# =============================================================================
# beat-books-data — Environment Variables
# =============================================================================
# Copy to .env:  cp .env.example .env
# Fill in real values. NEVER commit .env to git.
#
# See beat-books-infra/docs/operations/secret-management.md for full strategy.
# =============================================================================

# -----------------------------------------------------------------------------
# Database (Required — app won't start without it)
# -----------------------------------------------------------------------------
# PostgreSQL connection string. For Neon.tech, copy from the dashboard.
# Format: postgresql://user:password@host:port/dbname
DATABASE_URL=

# -----------------------------------------------------------------------------
# Environment Identity (controls migration safety guardrails)
# -----------------------------------------------------------------------------
# Values: local, dev, stage, main
#   local = developer workstation (default, no guardrails)
#   dev   = shared Dev database on Neon.tech
#   stage = staging database on Neon.tech
#   main  = production database (migrations blocked unless ALLOW_PRODUCTION_MIGRATE=true)
ENV=local

# Only set this in CI/CD or during intentional production migrations:
# ALLOW_PRODUCTION_MIGRATE=true

# -----------------------------------------------------------------------------
# The Odds API (Optional — only required when odds ingestion is enabled)
# -----------------------------------------------------------------------------
ODDS_API_KEY=
ODDS_API_BASE_URL=https://api.the-odds-api.com

# -----------------------------------------------------------------------------
# Scraping — Rate Limiting & Timing
# -----------------------------------------------------------------------------
# Backend: "selenium" (default) or "scrapling"
SCRAPE_BACKEND=selenium
SCRAPE_DELAY_SECONDS=60
SCRAPE_REQUEST_TIMEOUT=30
SCRAPE_MAX_RETRIES=3
# Browser interaction timing (seconds)
SCRAPE_PAGE_LOAD_WAIT=1.0
SCRAPE_CLICK_DELAY=0.4
SCRAPE_CLOUDFLARE_INITIAL_WAIT=10.0
SCRAPE_CLOUDFLARE_EXTENDED_WAIT=15.0

# Scrapling-specific (only used when SCRAPE_BACKEND=scrapling)
# SCRAPLING_FETCHER_TYPE=fetcher   # "fetcher" (HTTP) or "stealthy" (Camoufox)
# SCRAPLING_TIMEOUT=30
# SCRAPLING_IMPERSONATE=chrome

# -----------------------------------------------------------------------------
# Application Settings (Optional — have sensible defaults)
# -----------------------------------------------------------------------------
DEBUG=false
LOG_LEVEL=INFO
API_HOST=0.0.0.0
API_PORT=8001
